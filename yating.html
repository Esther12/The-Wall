<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="public/css/yating.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
  
    <title>Document</title>
</head>
<body>

<style> 
    * {cursor: url(public/cursor-3.cur), default;}
    </style>

                   <audio id="audio" src="public/shoot.wav" ></audio>
<script>

    var body=document.getElementsByTagName("body");
    document.addEventListener("click", play); 
    
    function play(){
         var audio = document.getElementById("audio");
       
        
         audio.play();
         
                   }
     </script>


<!-- <audio src="public/themesong.mp3">	
	<embed 
		src="public/themesong.mp3"
		width="300"
		height="90"
		loop="true"
		autostart="true">
</audio> -->
<span hidden>
<audio controls id="backgroundmusic">
    <source src="public/themesong.mp3" type="audio/mp3">
    <!-- <source src="public/themesong.mp3" type="audio/mp3"> -->
        <embed loop="true">
    Your browser does not support the audio element.
  </audio>

</span>
  
    
  

    <div class="mian-port">
        <button id = "startBtn">start</button>
        <p id="Score"></p>
        <div class="cubes hide" id="d11" type = "1" >
            <img class ="good"src="images/mainzombie123.gif">
        </div>
        <div class="cubes hide" id="d12" type = "0" >
                <img class = "good" src="images/hostage2.gif">
        </div>
        <div class="cubes hide good" id="d13" type = "1" >
                <img class = "good" src="images/bestzombie2.gif">
        </div>
    
        <div class="cubes hide" id="d14" type = "0" >
                <img class = "good" src="images/hostage8.gif">
        </div>
        <div class="cubes hide" id="d15" type = "1" >
            <img class ="good"src="images/creepy.gif">
        </div>
        <div class="cubes hide" id="d16" type = "1" >
                <img class = "good" src="images/mainzombie123.gif">
        </div>
        <div class="cubes hide" id="d17" type = "0" >
                <img class = "good" src="images/hostage2.gif">
        </div>
    
        <div class="cubes hide" id="d18" type = "1" >
                <img class = "good" src="images/creepy.gif">
        </div>
    
        <!-- {{!-- <div class="cubes" id="21">
    
        </div>
        <div class="cubes" id="22">
    
        </div>
        <div class="cubes" id="23">
    
        </div>
        <div class="cubes" id="24">
    
        </div>
        <div class="cubes" id="25">
    
        </div>
        <div class="cubes" id="26">
    
        </div> --}} -->
    
    
    
    </div>

    <script>
        var score = 0;
        var timer;
        var times = 0;
        $("#startBtn").on("click",function(){
            times = 20;
            roundsAndLife();
            var audio1 = document.getElementById("backgroundmusic");
         audio1.play();
        });
        $(".mian-port").on("click", ".cubes",function(){
           
            if( $(this).attr("type") === "0" ){
                score --;
                $(this).addClass("hide");
                console.log(score);
            }else if($(this).attr("type") === "1"){
                score ++;
                console.log(score);
                $(this).addClass("hide");
            }
            $("#Score").text(score) ;
        })
        function clearPerson(){
        //     var notSelected = document.querySelectorAll(".cubes:not(.hide)");
        //    console.log(notSelected);
        //    for(let i=0; i<notSelected.length;i++){
        //     console.log(notSelected[i].classList[1]);
        //     var classObj = notSelected[i].classList;
        //        // classObj.value = ""
        //   }
            var notSelected = document.querySelectorAll(".cubes:not(.hide)");
            for(let i = 0; i < notSelected.length; i ++){
               // console.log(notSelected[i]);
                notSelected[i].className += " hide";
               // console.log("after ",notSelected[i]);
            }
        }
        
        
        function roundsAndLife(){
                timer = setInterval(gameStart, 1200);  
        }
        function gameStart(){
            clearPerson();
            var ID = [11,12,13,14,15,16,17,18];
           // console.log(imgPicker);
            for(let i = 0; i < 6; i++){
                var randomId = Math.floor(Math.random()* ID.length);
                    $(`#d${ID[randomId]}`).removeClass("hide");
                    TweenMax.to(`#d${ID[randomId]}`, 1, {x : ()=>{return Math.random() * 900}, y: function(){
                        return Math.random() *400
                        }});
              };
              times--;
              if(times < 0){
                clearInterval(timer);
                alter("Times up! Ready ");
             }
        }

        function gameOver (){
            
        }
    </script>
</body>
</html>